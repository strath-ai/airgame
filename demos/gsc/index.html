<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ICLEI GEMINOA - Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link rel="stylesheet" href="gsc.css" />
  </head>

  <body class="d-flex flex-column h-100">
    <div class="container-fluid flex-grow-1 d-flex flex-column">
      <div class="row">
        <div class="col-12 text-center my-3">
          <h1>
            <span id="game-text"
              >Click anywhere on the map to place an emission source:</span
            >
            <br />
            <div
              class="btn-group btn-group-lg"
              id="emission_sources"
              role="group"
              aria-label="Emission Source"
            >
              <input
                type="radio"
                class="btn-check"
                name="emission_source"
                id="wildfire"
                autocomplete="off"
                checked
              />
              <label class="btn btn-outline-primary" for="wildfire">üî•</label>

              <input
                type="radio"
                class="btn-check"
                name="emission_source"
                id="factory"
                autocomplete="off"
              />
              <label class="btn btn-outline-primary" for="factory">üè≠</label>

              <input
                type="radio"
                class="btn-check"
                name="emission_source"
                id="transport"
                autocomplete="off"
              />
              <label class="btn btn-outline-primary" for="transport">üöå</label>
            </div>
          </h1>
        </div>
        <div class="col-12 text-center my-3">
          <div class="d-flex justify-content-center align-items-center">
            <div id="sidebarToggleContainer">
              <button
                id="sidebarToggleButton"
                class="btn btn-primary me-3"
                type="button"
                data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasSidebar"
                aria-controls="offcanvasSidebar"
              >
                <i class="fa-solid fa-bars"></i>
              </button>
            </div>
            <!-- <div class="d-flex align-items-center me-3"> -->
            <!-- 	<label for="pollution_level" class="me-2"><i class="fa-solid fa-wind"></i>Pollution -->
            <!-- 		Level</label> -->
            <!-- 	<select id="pollution_level" class="form-select form-select-lg" aria-label="Pollution Level"> -->
            <!-- 		<option selected value="pol_low">Low</option> -->
            <!-- 		<option value="pol_medium">Medium</option> -->
            <!-- 		<option value="pol_high">High</option> -->
            <!-- 	</select> -->
            <!-- </div> -->

            <!-- ******************** MODE SELECTION ********************  -->
            <div class="d-flex align-items-center me-3">
              <label for="game_mode" class="me-2"
                ><i class="fa-solid fa-dice"></i>Game Mode</label
              >
              <select
                id="game_mode"
                class="form-select form-select-lg"
                aria-label="Game Mode"
              >
                <option selected value="mode_learn">Learn</option>
                <option value="mode_minesweep">Minesweeper</option>
              </select>
            </div>

            <!-- ******************** WIND SELECTION ********************  -->
            <div class="d-flex align-items-center me-3">
              <label for="wind_strength" class="me-2"
                ><i class="fa-solid fa-wind"></i>Wind Strength</label
              >
              <select
                id="wind_strength"
                class="form-select form-select-lg"
                aria-label="Wind Strength"
              >
                <option>No Wind</option>
                <option>Calm</option>
                <option>Gentle Breeze</option>
                <option selected value="pixel">Strong Breeze</option>
              </select>
            </div>
            <wc-rotation-input precision="0" unit="deg" trigger="settled">
              <input type="number" id="wind_dial" />
            </wc-rotation-input>

            <button
              id="deployMoreSensors"
              class="btn btn-primary me-3"
              type="button"
            >
              Deploy more sensors
            </button>
          </div>
          <br />
          <div>
            <h2 id="pollutant-count" style="display: none">
              Remaining pollutants: <span id="remaining-pollutants"></span>
            </h2>

            <!-- ******************** END WIND SELECTION ********************  -->
            <!-- ************************************************************  -->

            <!-- <div class="d-flex align-items-center"> -->
            <!--   <label for="rotation" class="me-2" -->
            <!--     ><i class="fa-solid fa-location-arrow"></i>Direction</label -->
            <!--   > -->
            <!--   <input -->
            <!--     type="number" -->
            <!--     id="rotation" -->
            <!--     name="rotation" -->
            <!--     min="0" -->
            <!--     max="360" -->
            <!--     class="form-control" -->
            <!--     placeholder="Enter an angle (0-360)" value="45" /> -->
            <!-- </div> -->
          </div>
        </div>
      </div>

      <div class="rotatable-icon-container">
        <div id="rotatable-icon" style="transform: rotate(0deg)"></div>
      </div>
      <div class="row flex-grow-1">
        <div id="map" class="col-12 p-0"></div>
      </div>
    </div>

    <!-- Offcanvas Sidebar -->
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasSidebar"
      aria-labelledby="offcanvasSidebarLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasSidebarLabel">Sidebar Menu</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body">
        <div class="list-group">
          <a href="#" class="list-group-item list-group-item-action"
            >Dashboard</a
          >
          <a href="#" class="list-group-item list-group-item-action"
            >Shortcuts</a
          >
          <a href="#" class="list-group-item list-group-item-action"
            >Overview</a
          >
          <a href="#" class="list-group-item list-group-item-action">Events</a>
          <a href="#" class="list-group-item list-group-item-action">Profile</a>
          <a href="#" class="list-group-item list-group-item-action">Status</a>
        </div>
      </div>
    </div>
    <div id="stats-popover"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sidebarToggleButton = document.getElementById(
          "sidebarToggleButton",
        );
        const offcanvasSidebar = document.getElementById("offcanvasSidebar");

        offcanvasSidebar.addEventListener("show.bs.offcanvas", function () {
          sidebarToggleButton.style.display = "none";
        });

        offcanvasSidebar.addEventListener("hidden.bs.offcanvas", function () {
          sidebarToggleButton.style.display = "block";
        });
      });
    </script>
    <script
      src="https://cdn.plot.ly/plotly-2.34.0.min.js"
      charset="utf-8"
    ></script>
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="gsc.js"></script>
  </body>
</html>
